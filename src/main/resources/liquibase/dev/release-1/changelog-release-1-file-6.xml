<?xml version="1.0" encoding="UTF-8"?>

<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
         http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.3.xsd">


    <changeSet id="calc-rus-1" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating table: calc_metering_point_settings</comment>
        <createTable tableName="calc_metering_point_settings" schemaName="apps" remarks="Настройка точек учета для пунктов доставки/отпуска/импорта">
            <column name="id" type="number" remarks="Идентификатор">
                <constraints nullable="false"/>
            </column>

            <column name="contract_id" type="number" remarks="Идентификатор договора">
                <constraints nullable="true"/>
            </column>

            <column name="metering_point_id" type="number" remarks="Идентификатор точки учета">
                <constraints nullable="true"/>
            </column>

            <column name="cptri_type_code" type="varchar2(30)" remarks="Код типа">
                <constraints nullable="true"/>
            </column>

            <column name="start_date" type="date" remarks="Дата с">
                <constraints nullable="true"/>
            </column>

            <column name="end_date" type="date" remarks="Дата по">
                <constraints nullable="true"/>
            </column>

            <column name="create_by" type="number" remarks="Автор">
                <constraints nullable="false"/>
            </column>

            <column name="create_date" type="TIMESTAMP" remarks="Дата создания">
                <constraints nullable="false"/>
            </column>

            <column name="last_update_by" type="number" remarks="Автор обновления">
                <constraints nullable="false"/>
            </column>

            <column name="last_update_date" type="TIMESTAMP" remarks="Дата обновления">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="calc-rus-2" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating primary key for table: calc_metering_point_settings</comment>
        <addPrimaryKey
                columnNames="id"
                constraintName="pk_calc_metering_point_settings_l"
                schemaName="apps"
                tableName="calc_metering_point_settings"/>
    </changeSet>

    <changeSet id="calc-rus-3" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating sequence for table: calc_metering_point_settings</comment>
        <createSequence
                incrementBy="1"
                schemaName="apps"
                sequenceName="calc_metering_point_settings_s"
                startValue="1"/>
    </changeSet>

    <changeSet id="calc-rus-4" logicalFilePath="path-independent" author="ruslan">
        <comment>Creating foreign constraint: calc_metering_point_settings to dict_metering_points</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_metering_point_settings"
                baseColumnNames="metering_point_id"
                constraintName="fk_calc_metering_point_settings_1"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="RESTRICT"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="dict_metering_points"
                referencedColumnNames="id"
        />
    </changeSet>

    <changeSet id="calc-rus-5" logicalFilePath="path-independent" author="ruslan">
        <comment>Creating foreign constraint: calc_metering_point_settings to cm_doc_keg_cte</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_metering_point_settings"
                baseColumnNames="contract_id"
                constraintName="fk_calc_metering_point_settings_2"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="RESTRICT"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="cm_doc_keg_cte"
                referencedColumnNames="id"
        />
    </changeSet>

    <changeSet id="calc-rus-6" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating table: calc_metering_point_settings_tl</comment>
        <createTable tableName="calc_metering_point_settings_tl" schemaName="apps" remarks="Перевод Настройка точек учета для пунктов доставки/отпуска/импорта">
            <column name="id" type="number" remarks="Идентификатор">
                <constraints nullable="false"/>
            </column>

            <column name="lang" type="varchar2(10)" remarks="Язык">
                <constraints nullable="false"/>
            </column>

            <column name="metering_point_setting_id" type="number" remarks="Ссылка на родительскую запись">
                <constraints nullable="false"/>
            </column>

            <column name="name" type="varchar2(300)" remarks="Наименование пункта">
                <constraints nullable="false"/>
            </column>

            <column name="create_by" type="number" remarks="Автор">
                <constraints nullable="false"/>
            </column>

            <column name="create_date" type="TIMESTAMP" remarks="Дата создания">
                <constraints nullable="false"/>
            </column>

            <column name="last_update_by" type="number" remarks="Автор обновления">
                <constraints nullable="false"/>
            </column>

            <column name="last_update_date" type="TIMESTAMP" remarks="Дата обновления">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="calc-rus-7" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating primary key for table: calc_metering_point_settings_tl</comment>
        <addPrimaryKey
                columnNames="id"
                constraintName="pk_calc_metering_point_settings_tl"
                schemaName="apps"
                tableName="calc_metering_point_settings_tl"/>
    </changeSet>

    <changeSet id="calc-rus-8" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating sequence for table: calc_metering_point_settings_tl</comment>
        <createSequence
                incrementBy="1"
                schemaName="apps"
                sequenceName="calc_metering_point_settings_tl_s"
                startValue="1"/>
    </changeSet>

    <changeSet id="calc-rus-9" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating unique key for table: calc_metering_point_settings_tl</comment>
        <addUniqueConstraint
                columnNames="metering_point_setting_id,lang"
                constraintName="uk_calc_metering_point_settings_tl"
                schemaName="apps"
                tableName="calc_metering_point_settings_tl"/>
    </changeSet>

    <changeSet id="calc-rus-10" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating foreign constraint: calc_metering_point_settings_tl to calc_metering_point_settings</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_metering_point_settings_tl"
                baseColumnNames="metering_point_setting_id"
                constraintName="fk_calc_metering_point_settings_tl_1"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="CASCADE"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="calc_metering_point_settings"
                referencedColumnNames="id"
        />
    </changeSet>

    <changeSet id="calc-rus-11" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating table: calc_service_values_reconciliations</comment>
        <createTable tableName="calc_service_values_reconciliations" schemaName="apps" remarks="Акт сверки обьемов оказанных услуг">
            <column name="id" type="number" remarks="Идентификатор">
                <constraints nullable="false"/>
            </column>

            <column name="version" type="number" remarks="Версия">
                <constraints nullable="true"/>
            </column>

            <column name="contract_id" type="number" remarks="Идентификатор договора">
                <constraints nullable="true"/>
            </column>

            <column name="status" type="varchar2(20)" remarks="Идентификатор точки учета">
                <constraints nullable="true"/>
            </column>

            <column name="period_id" type="number" remarks="Идентификатор периода">
                <constraints nullable="true"/>
            </column>

            <column name="amount" type="varchar2(30)" remarks="сумма обьема">
                <constraints nullable="true"/>
            </column>

            <column name="create_by" type="number" remarks="Автор">
                <constraints nullable="false"/>
            </column>

            <column name="create_date" type="TIMESTAMP" remarks="Дата создания">
                <constraints nullable="false"/>
            </column>

            <column name="last_update_by" type="number" remarks="Автор обновления">
                <constraints nullable="false"/>
            </column>

            <column name="last_update_date" type="TIMESTAMP" remarks="Дата обновления">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="calc-rus-12" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating primary key for table: calc_service_values_reconciliations</comment>
        <addPrimaryKey
                columnNames="id"
                constraintName="pk_calc_service_values_reconciliations_l"
                schemaName="apps"
                tableName="calc_service_values_reconciliations"/>
    </changeSet>

    <changeSet id="calc-rus-13" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating sequence for table: calc_service_values_reconciliations</comment>
        <createSequence
                incrementBy="1"
                schemaName="apps"
                sequenceName="calc_service_values_reconciliations_s"
                startValue="1"/>
    </changeSet>

    <changeSet id="calc-rus-14" logicalFilePath="path-independent" author="ruslan">
        <comment>Creating foreign constraint: calc_service_values_reconciliations to cm_doc_keg_cte</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_service_values_reconciliations"
                baseColumnNames="contract_id"
                constraintName="fk_calc_service_values_reconciliations_2"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="RESTRICT"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="cm_doc_keg_cte"
                referencedColumnNames="id"
        />
    </changeSet>

    <changeSet id="calc-rus-15" logicalFilePath="path-independent" author="ruslan">
        <comment>Creating foreign constraint: calc_service_values_reconciliations to fin_periods</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_service_values_reconciliations"
                baseColumnNames="period_id"
                constraintName="fk_calc_service_values_reconciliations_3"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="RESTRICT"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="fin_periods"
                referencedColumnNames="id"
        />
    </changeSet>

    <changeSet id="calc-rus-16" logicalFilePath="path-independent" author="ruslan">
        <comment>Creating foreign constraint: calc_service_values_reconciliations to wf_states</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_service_values_reconciliations"
                baseColumnNames="status"
                constraintName="fk_calc_service_values_reconciliations_4"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="RESTRICT"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="wf_states"
                referencedColumnNames="code"
        />
    </changeSet>



    <changeSet id="calc-rus-17" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating table: calc_bem_dict</comment>
        <createTable tableName="calc_bem_dict" schemaName="apps" remarks="Справочник кодов БРЭ">
            <column name="code" type="varchar2(30)" remarks="код БРЭ">
                <constraints nullable="false"/>
            </column>

            <column name="consumer_id" type="number" remarks="Ид точки учета Потребителя">
                <constraints nullable="false"/>
            </column>

            <column name="trader_id" type="number" remarks="Ид точки учета трейдера">
                <constraints nullable="false"/>
            </column>

            <column name="energy_source_id" type="number" remarks="Ид точки учета энергоисточника">
                <constraints nullable="false"/>
            </column>

            <column name="trade_type" type="varchar2(10)" remarks="Код вида торгов">
                <constraints nullable="false"/>
            </column>
            
            <column name="power_grid_region_id" type="number" remarks="Ид участка сети">
                <constraints nullable="false"/>
            </column>

            <column name="create_by" type="number" remarks="Автор">
                <constraints nullable="false"/>
            </column>

            <column name="create_date" type="TIMESTAMP" remarks="Дата создания">
                <constraints nullable="false"/>
            </column>

            <column name="last_update_by" type="number" remarks="Автор обновления">
                <constraints nullable="false"/>
            </column>

            <column name="last_update_date" type="TIMESTAMP" remarks="Дата обновления">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="calc-rus-18" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating primary key for table: calc_bem_dict</comment>
        <addPrimaryKey
                columnNames="code"
                constraintName="pk_calc_bem_dict"
                schemaName="apps"
                tableName="calc_bem_dict"/>
    </changeSet>


    <changeSet id="calc-rus-19" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating table: calc_trade_types</comment>
        <createTable tableName="calc_trade_types" schemaName="apps" remarks="Справочник виды торгов">
            <column name="code" type="varchar2(10)" remarks="Код">
                <constraints nullable="false"/>
            </column>

            <column name="create_by" type="number" remarks="Автор">
                <constraints nullable="false"/>
            </column>

            <column name="create_date" type="TIMESTAMP" remarks="Дата создания">
                <constraints nullable="false"/>
            </column>

            <column name="last_update_by" type="number" remarks="Автор обновления">
                <constraints nullable="false"/>
            </column>

            <column name="last_update_date" type="TIMESTAMP" remarks="Дата обновления">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="calc-rus-20" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating primary key for table: calc_trade_types</comment>
        <addPrimaryKey
                columnNames="code"
                constraintName="pk_calc_trade_types"
                schemaName="apps"
                tableName="calc_trade_types"/>
    </changeSet>

    <changeSet id="calc-rus-21" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating table: calc_trade_types_tl</comment>
        <createTable tableName="calc_trade_types_tl" schemaName="apps" remarks="Перевод Справочник кодов БРЭ">
            <column name="code" type="varchar2(10)" remarks="Код">
                <constraints nullable="false"/>
            </column>

            <column name="lang" type="varchar2(10)" remarks="Язык">
                <constraints nullable="false"/>
            </column>

            <column name="name" type="varchar2(200)" remarks="Наименование">
                <constraints nullable="false"/>
            </column>

            <column name="create_by" type="number" remarks="Автор">
                <constraints nullable="false"/>
            </column>

            <column name="create_date" type="TIMESTAMP" remarks="Дата создания">
                <constraints nullable="false"/>
            </column>

            <column name="last_update_by" type="number" remarks="Автор обновления">
                <constraints nullable="false"/>
            </column>

            <column name="last_update_date" type="TIMESTAMP" remarks="Дата обновления">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="calc-rus-22" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating primary key for table: calc_trade_types_tl</comment>
        <addPrimaryKey
                columnNames="code"
                constraintName="pk_calc_trade_types_tl"
                schemaName="apps"
                tableName="calc_trade_types_tl"/>
    </changeSet>

    <changeSet id="calc-rus-23" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating foreign constraint: calc_trade_types_tl to calc_trade_types</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_trade_types_tl"
                baseColumnNames="code"
                constraintName="fk_calc_trade_types_tl_1"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="CASCADE"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="calc_trade_types"
                referencedColumnNames="code"
        />
    </changeSet>

    <changeSet id="calc-rus-24" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating table: calc_daily_schedules_h</comment>
        <createTable tableName="calc_daily_schedules_h" schemaName="apps" remarks="Суточный график заголовок">
            <column name="id" type="number" remarks="Идентификатор">
                <constraints nullable="false"/>
            </column>

            <column name="schedule_date" type="date" remarks="Дата графика">
                <constraints nullable="false"/>
            </column>

            <column name="version" type="number" remarks="версия">
                <constraints nullable="true"/>
            </column>

            <column name="status" type="varchar2(10)" remarks="Стаус">
                <constraints nullable="true"/>
            </column>

            <column name="create_by" type="number" remarks="Автор">
                <constraints nullable="false"/>
            </column>

            <column name="create_date" type="TIMESTAMP" remarks="Дата создания">
                <constraints nullable="false"/>
            </column>

            <column name="last_update_by" type="number" remarks="Автор обновления">
                <constraints nullable="false"/>
            </column>

            <column name="last_update_date" type="TIMESTAMP" remarks="Дата обновления">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="calc-rus-25" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating primary key for table: calc_daily_schedules_h</comment>
        <addPrimaryKey
                columnNames="id"
                constraintName="pk_calc_daily_schedules_h"
                schemaName="apps"
                tableName="calc_daily_schedules_h"/>
    </changeSet>

    <changeSet id="calc-rus-26" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating sequence for table: calc_daily_schedules_h</comment>
        <createSequence
                incrementBy="1"
                schemaName="apps"
                sequenceName="calc_daily_schedules_h_s"
                startValue="1"/>
    </changeSet>

    <changeSet id="calc-rus-27" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating table: calc_load_statuses</comment>
        <createTable tableName="calc_load_statuses" schemaName="apps" remarks="Справочник статусы загрузки">
            <column name="code" type="varchar2(10)" remarks="Код">
                <constraints nullable="false"/>
            </column>

            <column name="create_by" type="number" remarks="Автор">
                <constraints nullable="false"/>
            </column>

            <column name="create_date" type="TIMESTAMP" remarks="Дата создания">
                <constraints nullable="false"/>
            </column>

            <column name="last_update_by" type="number" remarks="Автор обновления">
                <constraints nullable="false"/>
            </column>

            <column name="last_update_date" type="TIMESTAMP" remarks="Дата обновления">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="calc-rus-28" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating primary key for table: calc_load_statuses</comment>
        <addPrimaryKey
                columnNames="code"
                constraintName="pk_calc_load_statuses"
                schemaName="apps"
                tableName="calc_load_statuses"/>
    </changeSet>

    <changeSet id="calc-rus-29" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating table: calc_load_statuses_tl</comment>
        <createTable tableName="calc_load_statuses_tl" schemaName="apps" remarks="Перевод Справочник статусы загрузки">
            <column name="code" type="varchar2(10)" remarks="Код">
                <constraints nullable="false"/>
            </column>

            <column name="lang" type="varchar2(10)" remarks="Язык">
                <constraints nullable="false"/>
            </column>

            <column name="name" type="varchar2(200)" remarks="Наименование">
                <constraints nullable="false"/>
            </column>

            <column name="create_by" type="number" remarks="Автор">
                <constraints nullable="false"/>
            </column>

            <column name="create_date" type="TIMESTAMP" remarks="Дата создания">
                <constraints nullable="false"/>
            </column>

            <column name="last_update_by" type="number" remarks="Автор обновления">
                <constraints nullable="false"/>
            </column>

            <column name="last_update_date" type="TIMESTAMP" remarks="Дата обновления">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="calc-rus-30" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating primary key for table: calc_load_statuses_tl</comment>
        <addPrimaryKey
                columnNames="code"
                constraintName="pk_calc_load_statuses_tl"
                schemaName="apps"
                tableName="calc_load_statuses_tl"/>
    </changeSet>


    <changeSet id="calc-rus-31" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating table: calc_daily_schedules_l</comment>
        <createTable tableName="calc_daily_schedules_l" schemaName="apps" remarks="Суточный график строки">
            <column name="id" type="number" remarks="Идентификатор">
                <constraints nullable="false"/>
            </column>

            <column name="header_id" type="number" remarks="Идентификатор заголовка">
                <constraints nullable="false"/>
            </column>

            <column name="consumer_mp_id" type="number" remarks="Идентификатор точки учета потребителя">
                <constraints nullable="false"/>
            </column>

            <column name="traider_mp_id" type="number" remarks="Идентификатор точки учета трэйдера">
                <constraints nullable="false"/>
            </column>

            <column name="energy_source_mp_id" type="number" remarks="Идентификатор точки учета энергоисточника">
                <constraints nullable="false"/>
            </column>

            <column name="trade_type_code" type="varchar2(10)" remarks="Код вида торгов">
                <constraints nullable="true"/>
            </column>

            <column name="power_grid_region_id" type="number" remarks="ID еденицы баланса">
                <constraints nullable="false"/>
            </column>

            <column name="total_per_day" type="number" remarks="Обьем энергии за сутки">
                <constraints nullable="false"/>
            </column>

            <column name="create_by" type="number" remarks="Автор">
                <constraints nullable="false"/>
            </column>

            <column name="create_date" type="TIMESTAMP" remarks="Дата создания">
                <constraints nullable="false"/>
            </column>

            <column name="last_update_by" type="number" remarks="Автор обновления">
                <constraints nullable="false"/>
            </column>

            <column name="last_update_date" type="TIMESTAMP" remarks="Дата обновления">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="calc-rus-32" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating primary key for table: calc_daily_schedules_l</comment>
        <addPrimaryKey
                columnNames="id"
                constraintName="pk_calc_daily_schedules_l"
                schemaName="apps"
                tableName="calc_daily_schedules_l"/>
    </changeSet>

    <changeSet id="calc-rus-33" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating sequence for table: calc_daily_schedules_l</comment>
        <createSequence
                incrementBy="1"
                schemaName="apps"
                sequenceName="calc_daily_schedules_l_s"
                startValue="1"/>
    </changeSet>

    <changeSet id="calc-rus-34" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating foreign constraint: calc_load_statuses_tl to calc_load_statuses</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_load_statuses_tl"
                baseColumnNames="code"
                constraintName="fk_calc_load_statuses_tl_1"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="CASCADE"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="calc_load_statuses"
                referencedColumnNames="code"
        />
    </changeSet>

    <changeSet id="calc-rus-35" logicalFilePath="path-independent" author="ruslan">
        <comment>Creating foreign constraint: calc_daily_schedules_h to calc_load_statuses</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_daily_schedules_h"
                baseColumnNames="status"
                constraintName="fk_calc_daily_schedules_1"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="RESTRICT"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="calc_load_statuses"
                referencedColumnNames="code"
        />
    </changeSet>

    <changeSet id="calc-rus-36" logicalFilePath="path-independent" author="ruslan">
        <comment>Creating foreign constraint: calc_daily_schedules_l to calc_trade_types</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_daily_schedules_l"
                baseColumnNames="trade_type_code"
                constraintName="fk_calc_daily_schedules_l_1"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="RESTRICT"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="calc_trade_types"
                referencedColumnNames="code"
        />
    </changeSet>

    <changeSet id="calc-rus-37" logicalFilePath="path-independent" author="ruslan">
        <comment>Creating foreign constraint: calc_bem_dict to dict_metering_points</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_bem_dict"
                baseColumnNames="consumer_id"
                constraintName="fk_calc_bem_dict_1"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="RESTRICT"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="dict_metering_points"
                referencedColumnNames="id"
        />
    </changeSet>

    <changeSet id="calc-rus-38" logicalFilePath="path-independent" author="ruslan">
        <comment>Creating foreign constraint: calc_bem_dict to dict_metering_points</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_bem_dict"
                baseColumnNames="trader_id"
                constraintName="fk_calc_bem_dict_2"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="RESTRICT"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="dict_metering_points"
                referencedColumnNames="id"
        />
    </changeSet>

    <changeSet id="calc-rus-39" logicalFilePath="path-independent" author="ruslan">
        <comment>Creating foreign constraint: calc_bem_dict to dict_metering_points</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_bem_dict"
                baseColumnNames="energy_source_id"
                constraintName="fk_calc_bem_dict_3"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="RESTRICT"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="dict_metering_points"
                referencedColumnNames="id"
        />
    </changeSet>

    <changeSet id="calc-rus-40" logicalFilePath="path-independent" author="ruslan">
        <comment>Creating foreign constraint: calc_bem_dict to calc_trade_types</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_bem_dict"
                baseColumnNames="trade_type"
                constraintName="fk_calc_bem_dict_4"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="RESTRICT"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="calc_trade_types"
                referencedColumnNames="code"
        />
    </changeSet>

    <changeSet id="calc-rus-41" logicalFilePath="path-independent" author="ruslan">
        <comment>Creating foreign constraint: calc_daily_schedules_l to calc_daily_schedules_h</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_daily_schedules_l"
                baseColumnNames="header_id"
                constraintName="fk_calc_daily_schedules_l_2"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="RESTRICT"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="calc_daily_schedules_h"
                referencedColumnNames="id"
        />
    </changeSet>

    <changeSet id="calc-rus-42" logicalFilePath="path-independent" author="ruslan">
        <comment>Creating foreign constraint: calc_daily_schedules_l to dict_metering_points</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_daily_schedules_l"
                baseColumnNames="consumer_mp_id"
                constraintName="fk_calc_daily_schedules_l_3"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="RESTRICT"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="dict_metering_points"
                referencedColumnNames="id"
        />
    </changeSet>

    <changeSet id="calc-rus-43" logicalFilePath="path-independent" author="ruslan">
        <comment>Creating foreign constraint: calc_daily_schedules_l to dict_metering_points</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_daily_schedules_l"
                baseColumnNames="traider_mp_id"
                constraintName="fk_calc_daily_schedules_l_4"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="RESTRICT"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="dict_metering_points"
                referencedColumnNames="id"
        />
    </changeSet>

    <changeSet id="calc-rus-44" logicalFilePath="path-independent" author="ruslan">
        <comment>Creating foreign constraint: calc_daily_schedules_l to dict_metering_points</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_daily_schedules_l"
                baseColumnNames="energy_source_mp_id"
                constraintName="fk_calc_daily_schedules_l_5"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="RESTRICT"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="dict_metering_points"
                referencedColumnNames="id"
        />
    </changeSet>

    <changeSet id="calc-rus-45" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating table: calc_service_values_reconciliations_l</comment>
        <createTable tableName="calc_service_values_reconciliations_l" schemaName="apps" remarks="Акт сверки обьемов оказанных услуг строки">
            <column name="id" type="number" remarks="Идентификатор">
                <constraints nullable="false"/>
            </column>

            <column name="metering_point_id" type="number" remarks="Идентификатор точки учета">
                <constraints nullable="false"/>
            </column>

            <column name="service_values_reconciliation_id" type="number" remarks="Идентификатор акта">
                <constraints nullable="false"/>
            </column>

            <column name="cptri_type_code" type="varchar2(30)" remarks="Код типа">
                <constraints nullable="true"/>
            </column>

            <column name="period_id" type="number" remarks="Ид периода">
                <constraints nullable="true"/>
            </column>

            <column name="volume" type="number" remarks="Обьем">
                <constraints nullable="false"/>
            </column>

            <column name="create_by" type="number" remarks="Автор">
                <constraints nullable="false"/>
            </column>

            <column name="create_date" type="TIMESTAMP" remarks="Дата создания">
                <constraints nullable="false"/>
            </column>

            <column name="last_update_by" type="number" remarks="Автор обновления">
                <constraints nullable="false"/>
            </column>

            <column name="last_update_date" type="TIMESTAMP" remarks="Дата обновления">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>


    <changeSet id="calc-rus-46" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating primary key for table: calc_service_values_reconciliations_l</comment>
        <addPrimaryKey
                columnNames="id"
                constraintName="pk_calc_service_values_reconciliations_l_1"
                schemaName="apps"
                tableName="calc_service_values_reconciliations_l"/>
    </changeSet>

    <changeSet id="calc-rus-47" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating sequence for table: calc_service_values_reconciliations_l</comment>
        <createSequence
                incrementBy="1"
                schemaName="apps"
                sequenceName="calc_service_values_reconciliations_l_s"
                startValue="1"/>
    </changeSet>

    <changeSet id="calc-rus-48" logicalFilePath="path-independent" author="ruslan">
        <comment>Creating foreign constraint: calc_service_values_reconciliations_l to dict_metering_points</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_service_values_reconciliations_l"
                baseColumnNames="metering_point_id"
                constraintName="fk_calc_service_values_reconciliations_l_1"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="RESTRICT"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="dict_metering_points"
                referencedColumnNames="id"
        />
    </changeSet>

    <changeSet id="calc-rus-49" logicalFilePath="path-independent" author="ruslan">
        <comment>Creating foreign constraint: calc_service_values_reconciliations_l to calc_service_values_reconciliations</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_service_values_reconciliations_l"
                baseColumnNames="service_values_reconciliation_id"
                constraintName="fk_calc_service_values_reconciliations_l_2"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="RESTRICT"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="calc_service_values_reconciliations"
                referencedColumnNames="id"
        />
    </changeSet>

    <changeSet id="calc-rus-50" logicalFilePath="path-independent" author="ruslan">
        <comment>Creating foreign constraint: calc_service_values_reconciliations_l to cm_doc_cptri_types</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_service_values_reconciliations_l"
                baseColumnNames="cptri_type_code"
                constraintName="fk_calc_service_values_reconciliations_l_3"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="RESTRICT"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="cm_doc_cptri_types"
                referencedColumnNames="code"
        />
    </changeSet>

    <changeSet id="calc-rus-51" logicalFilePath="path-independent" author="ruslan">
        <comment>Creating foreign constraint: calc_service_values_reconciliations_l to fin_periods</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_service_values_reconciliations_l"
                baseColumnNames="period_id"
                constraintName="fk_calc_service_values_reconciliations_l_4"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="RESTRICT"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="fin_periods"
                referencedColumnNames="id"
        />
    </changeSet>

    <changeSet id="calc-rus-52" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating table: calc_signatories</comment>
        <createTable tableName="calc_signatories" schemaName="apps" remarks="Акт сверки обьемов оказанных услуг строки">
            <column name="id" type="number" remarks="Идентификатор">
                <constraints nullable="false"/>
            </column>

            <column name="table_name" type="varchar2(50)" remarks="Наименование таблицы">
                <constraints nullable="false"/>
            </column>

            <column name="table_id" type="number" remarks="Идентификатор в таблице">
                <constraints nullable="false"/>
            </column>

            <column name="name_1" type="varchar2(50)" remarks="Имя первого подписанта">
                <constraints nullable="true"/>
            </column>

            <column name="name_2" type="number" remarks="Имя второго подписанта">
                <constraints nullable="true"/>
            </column>

            <column name="create_by" type="number" remarks="Автор">
                <constraints nullable="false"/>
            </column>

            <column name="create_date" type="TIMESTAMP" remarks="Дата создания">
                <constraints nullable="false"/>
            </column>

            <column name="last_update_by" type="number" remarks="Автор обновления">
                <constraints nullable="false"/>
            </column>

            <column name="last_update_date" type="TIMESTAMP" remarks="Дата обновления">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="calc-rus-53" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating primary key for table: calc_signatories</comment>
        <addPrimaryKey
                columnNames="id"
                constraintName="pk_calc_signatories"
                schemaName="apps"
                tableName="calc_signatories"/>
    </changeSet>

    <changeSet id="calc-rus-54" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating sequence for table: calc_signatories</comment>
        <createSequence
                incrementBy="1"
                schemaName="apps"
                sequenceName="calc_signatories_s"
                startValue="1"/>
    </changeSet>

    <changeSet id="calc-rus-55" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating table: calc_doc_asp1_headers</comment>
        <createTable tableName="calc_doc_asp1_headers" schemaName="apps" remarks="Заголовки шаблонов расчетных документов (Акт съема показаний)">
            <column name="id" type="number" remarks="Идентификатор шаблона АСП">
                <constraints nullable="false"/>
            </column>

            <column name="doc_type_code" type="varchar2(50)" remarks="Код типа документа" defaultValue="CALC_ASP1">
                <constraints nullable="false"/>
            </column>

            <column name="calc_period_id" type="number" remarks="Расчетный период">
                <constraints nullable="true"/>
            </column>

            <column name="executer_id" type="number" remarks="Исполнитель">
                <constraints nullable="true"/>
            </column>

            <column name="is_template" type="number" remarks="Является шаблоном">
                <constraints nullable="false"/>
            </column>

            <column name="template_id" type="number" remarks="На основе шаблона">
                <constraints nullable="false"/>
            </column>

            <column name="processing_status_code" type="varchar2(20)" remarks="Статус формирования">
                <constraints nullable="false"/>
            </column>

            <column name="status_code" type="varchar2(20)" remarks="Статус документа">
                <constraints nullable="false"/>
            </column>

            <column name="create_by" type="number" remarks="Автор">
                <constraints nullable="false"/>
            </column>

            <column name="create_date" type="TIMESTAMP" remarks="Дата создания">
                <constraints nullable="false"/>
            </column>

            <column name="last_update_by" type="number" remarks="Автор обновления">
                <constraints nullable="false"/>
            </column>

            <column name="last_update_date" type="TIMESTAMP" remarks="Дата обновления">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="calc-rus-56" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating primary key for table: calc_doc_asp1_headers</comment>
        <addPrimaryKey
                columnNames="id"
                constraintName="pk_calc_doc_asp1_headers"
                schemaName="apps"
                tableName="calc_doc_asp1_headers"/>
    </changeSet>

    <changeSet id="calc-rus-57" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating sequence for table: calc_doc_asp1_headers</comment>
        <createSequence
                incrementBy="1"
                schemaName="apps"
                sequenceName="calc_doc_asp1_headers_s"
                startValue="1"/>
    </changeSet>

    <changeSet id="calc-rus-58" logicalFilePath="path-independent" author="ruslan">
        <comment>Creating foreign constraint: calc_doc_asp1_headers to fin_periods</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_doc_asp1_headers"
                baseColumnNames="calc_period_id"
                constraintName="fk_calc_doc_asp1_headers_1"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="RESTRICT"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="fin_periods"
                referencedColumnNames="id"
        />
    </changeSet>

    <changeSet id="calc-rus-59" logicalFilePath="path-independent" author="ruslan">
        <comment>Creating foreign constraint: calc_doc_asp1_headers to dm_doc_types</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_doc_asp1_headers"
                baseColumnNames="doc_type_code"
                constraintName="fk_calc_doc_asp1_headers_2"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="RESTRICT"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="dm_doc_types"
                referencedColumnNames="code"
        />
    </changeSet>

    <changeSet id="calc-rus-60" logicalFilePath="path-independent" author="ruslan">
        <comment>Creating foreign constraint: calc_doc_asp1_headers to dict_business_partners</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_doc_asp1_headers"
                baseColumnNames="executer_id"
                constraintName="fk_calc_doc_asp1_headers_3"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="RESTRICT"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="dict_business_partners"
                referencedColumnNames="id"
        />
    </changeSet>

    <changeSet id="calc-rus-61" logicalFilePath="path-independent" author="ruslan">
        <comment>Creating foreign constraint: calc_doc_asp1_headers to calc_doc_asp1_headers</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_doc_asp1_headers"
                baseColumnNames="template_id"
                constraintName="fk_calc_doc_asp1_headers_4"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="RESTRICT"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="calc_doc_asp1_headers"
                referencedColumnNames="id"
        />
    </changeSet>

    <changeSet id="calc-rus-62" logicalFilePath="path-independent" author="ruslan">
        <comment>Creating foreign constraint: calc_doc_asp1_headers to media_batch_statuses</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_doc_asp1_headers"
                baseColumnNames="processing_status_code"
                constraintName="fk_calc_doc_asp1_headers_5"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="RESTRICT"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="media_batch_statuses"
                referencedColumnNames="code"
        />
    </changeSet>

    <changeSet id="calc-rus-63" logicalFilePath="path-independent" author="ruslan">
        <comment>Creating foreign constraint: calc_doc_asp1_headers to wf_states</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_doc_asp1_headers"
                baseColumnNames="status_code"
                constraintName="fk_calc_doc_asp1_headers_6"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="RESTRICT"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="wf_states"
                referencedColumnNames="code"
        />
    </changeSet>

    <changeSet id="calc-rus-64" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating table: calc_doc_asp1_headers_tl</comment>
        <createTable tableName="calc_doc_asp1_headers_tl" schemaName="apps" remarks="Перевод Заголовки шаблонов расчетных документов (Акт съема показаний)">
            <column name="id" type="number" remarks="Идентификатор">
                <constraints nullable="false"/>
            </column>

            <column name="lang" type="varchar2(10)" remarks="Язык">
                <constraints nullable="false"/>
            </column>

            <column name="asp1_header_id" type="number" remarks="Ссылка на родительскую запись">
                <constraints nullable="false"/>
            </column>

            <column name="name" type="varchar2(500)" remarks="Наименование">
                <constraints nullable="true"/>
            </column>

            <column name="create_date" type="TIMESTAMP" remarks="Дата создания">
                <constraints nullable="true"/>
            </column>

            <column name="last_update_date" type="TIMESTAMP" remarks="Дата обновления">
                <constraints nullable="true"/>
            </column>

            <column name="create_by" type="number" remarks="Автор">
                <constraints nullable="true"/>
            </column>

            <column name="last_update_by" type="number" remarks="Автор обновления">
                <constraints nullable="true"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="calc-rus-65" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating primary key for table: calc_doc_asp1_headers_tl</comment>
        <addPrimaryKey
                columnNames="id"
                constraintName="pk_calc_doc_asp1_headers_tl"
                schemaName="apps"
                tableName="calc_doc_asp1_headers_tl"/>
    </changeSet>

    <changeSet id="calc-rus-66" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating sequence for table: calc_doc_asp1_headers_tl</comment>
        <createSequence
                incrementBy="1"
                schemaName="apps"
                sequenceName="calc_doc_asp1_headers_tl_s"
                startValue="1"/>
    </changeSet>

    <changeSet id="calc-rus-67" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating unique key for table: calc_doc_asp1_headers_tl</comment>
        <addUniqueConstraint
                columnNames="asp1_header_id,lang"
                constraintName="uk_calc_doc_asp1_headers_tl"
                schemaName="apps"
                tableName="calc_doc_asp1_headers_tl"/>
    </changeSet>

    <changeSet id="calc-rus-68" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating foreign constraint: calc_doc_asp1_headers_tl to calc_doc_asp1_headers</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_doc_asp1_headers_tl"
                baseColumnNames="asp1_header_id"
                constraintName="fk_calc_doc_asp1_headers_tl_1"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="CASCADE"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="calc_doc_asp1_headers"
                referencedColumnNames="id"
        />
    </changeSet>

    <changeSet id="calc-rus-69" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating table: calc_doc_asp1_lines</comment>
        <createTable tableName="calc_doc_asp1_lines" schemaName="apps" remarks="Строки основной таблицы шаблона расчетного документа">
            <column name="id" type="number" remarks="Идентификатор строки документа">
                <constraints nullable="false"/>
            </column>

            <column name="header_id" type="number" remarks="ID заголовка шаблона">
                <constraints nullable="false"/>
            </column>

            <column name="item_num" type="number" remarks="Номер пункта/порядок вывода в документ">
                <constraints nullable="true"/>
            </column>

            <column name="mp_id" type="number" remarks="Точка учета">
                <constraints nullable="true"/>
            </column>

            <column name="param_id" type="number" remarks="Параметр">
                <constraints nullable="true"/>
            </column>

            <column name="meter_id" type="number" remarks="ID установленного счетчика">
                <constraints nullable="true"/>
            </column>

            <column name="meter_serial_number" type="varchar2(30)" remarks="Номер счетчика">
                <constraints nullable="true"/>
            </column>

            <column name="meter_type_name" type="varchar2(100)" remarks="Тип счетчика">
                <constraints nullable="true"/>
            </column>

            <column name="meter_value_start" type="number" remarks="Показание счетчика. Начальные">
                <constraints nullable="true"/>
            </column>

            <column name="meter_value_end" type="number" remarks="Показание счетчика. Конечные">
                <constraints nullable="true"/>
            </column>

            <column name="meter_value_diff" type="number" remarks="Показание счетчика. Конечные">
                <constraints nullable="true"/>
            </column>

            <column name="meter_factor" type="number" remarks="Расчетный коэффициент">
                <constraints nullable="true"/>
            </column>

            <column name="ec_value" type="number" remarks="Объем электроэнергии, кВт.ч/кВар.ч">
                <constraints nullable="true"/>
            </column>

            <column name="note" type="varchar2(30)" remarks="Примечание">
                <constraints nullable="true"/>
            </column>

            <column name="treatment_type_code" type="varchar2(10)" remarks="Тип обработки строки:">
                <constraints nullable="false"/>
            </column>

            <column name="create_by" type="number" remarks="Автор">
                <constraints nullable="false"/>
            </column>

            <column name="create_date" type="TIMESTAMP" remarks="Дата создания">
                <constraints nullable="false"/>
            </column>

            <column name="last_update_by" type="number" remarks="Автор обновления">
                <constraints nullable="false"/>
            </column>

            <column name="last_update_date" type="TIMESTAMP" remarks="Дата обновления">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="calc-rus-70" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating primary key for table: calc_doc_asp1_lines</comment>
        <addPrimaryKey
                columnNames="id"
                constraintName="pk_calc_doc_asp1_lines"
                schemaName="apps"
                tableName="calc_doc_asp1_lines"/>
    </changeSet>

    <changeSet id="calc-rus-71" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating sequence for table: calc_doc_asp1_lines</comment>
        <createSequence
                incrementBy="1"
                schemaName="apps"
                sequenceName="calc_doc_asp1_lines_s"
                startValue="1"/>
    </changeSet>


    <changeSet id="calc-rus-72" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating table: calc_doc_asp1_lines_tl</comment>
        <createTable tableName="calc_doc_asp1_lines_tl" schemaName="apps" remarks="Перевод Заголовки шаблонов расчетных документов (Акт съема показаний)">
            <column name="id" type="number" remarks="Идентификатор">
                <constraints nullable="false"/>
            </column>

            <column name="lang" type="varchar2(10)" remarks="Язык">
                <constraints nullable="false"/>
            </column>

            <column name="asp1_line_id" type="number" remarks="Ссылка на родительскую запись">
                <constraints nullable="false"/>
            </column>

            <column name="line_name" type="varchar2(500)" remarks="Наименование">
                <constraints nullable="true"/>
            </column>

            <column name="create_date" type="TIMESTAMP" remarks="Дата создания">
                <constraints nullable="true"/>
            </column>

            <column name="last_update_date" type="TIMESTAMP" remarks="Дата обновления">
                <constraints nullable="true"/>
            </column>

            <column name="create_by" type="number" remarks="Автор">
                <constraints nullable="true"/>
            </column>

            <column name="last_update_by" type="number" remarks="Автор обновления">
                <constraints nullable="true"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="calc-rus-73" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating primary key for table: calc_doc_asp1_lines_tl</comment>
        <addPrimaryKey
                columnNames="id"
                constraintName="pk_calc_doc_asp1_lines_tl"
                schemaName="apps"
                tableName="calc_doc_asp1_lines_tl"/>
    </changeSet>

    <changeSet id="calc-rus-74" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating sequence for table: calc_doc_asp1_lines_tl</comment>
        <createSequence
                incrementBy="1"
                schemaName="apps"
                sequenceName="calc_doc_asp1_lines_tl_s"
                startValue="1"/>
    </changeSet>

    <changeSet id="calc-rus-75" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating unique key for table: calc_doc_asp1_lines_tl</comment>
        <addUniqueConstraint
                columnNames="asp1_line_id,lang"
                constraintName="uk_calc_doc_asp1_lines_tl"
                schemaName="apps"
                tableName="calc_doc_asp1_lines_tl"/>
    </changeSet>

    <changeSet id="calc-rus-76" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating foreign constraint: calc_doc_asp1_lines_tl to calc_doc_asp1_lines</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_doc_asp1_lines_tl"
                baseColumnNames="asp1_line_id"
                constraintName="fkcalc_doc_asp1_lines_tl_1"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="CASCADE"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="calc_doc_asp1_lines"
                referencedColumnNames="id"
        />
    </changeSet>

    <changeSet id="calc-rus-77" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating table: calc_treatment_types</comment>
        <createTable tableName="calc_treatment_types" schemaName="apps" remarks="Справочник Тип обработки строки">
            <column name="code" type="varchar2(10)" remarks="Код">
                <constraints nullable="false"/>
            </column>

            <column name="create_by" type="number" remarks="Автор">
                <constraints nullable="true"/>
            </column>

            <column name="create_date" type="TIMESTAMP" remarks="Дата создания">
                <constraints nullable="true"/>
            </column>

            <column name="last_update_by" type="number" remarks="Автор обновления">
                <constraints nullable="true"/>
            </column>

            <column name="last_update_date" type="TIMESTAMP" remarks="Дата обновления">
                <constraints nullable="true"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="calc-rus-78" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating primary key for table: calc_treatment_types</comment>
        <addPrimaryKey
                columnNames="code"
                constraintName="pk_calc_treatment_types"
                schemaName="apps"
                tableName="calc_treatment_types"/>
    </changeSet>

    <changeSet id="calc-rus-79" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating table: calc_treatment_types_tl</comment>
        <createTable tableName="calc_treatment_types_tl" schemaName="apps" remarks="Перевод Справочник Тип обработки строки">
            <column name="code" type="varchar2(10)" remarks="Код">
                <constraints nullable="false"/>
            </column>

            <column name="lang" type="varchar2(10)" remarks="Язык">
                <constraints nullable="false"/>
            </column>

            <column name="name" type="varchar2(200)" remarks="Наименование">
                <constraints nullable="false"/>
            </column>

            <column name="create_by" type="number" remarks="Автор">
                <constraints nullable="true"/>
            </column>

            <column name="create_date" type="TIMESTAMP" remarks="Дата создания">
                <constraints nullable="true"/>
            </column>

            <column name="last_update_by" type="number" remarks="Автор обновления">
                <constraints nullable="true"/>
            </column>

            <column name="last_update_date" type="TIMESTAMP" remarks="Дата обновления">
                <constraints nullable="true"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="calc-rus-80" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating primary key for table: calc_treatment_types_tl</comment>
        <addPrimaryKey
                columnNames="code,lang"
                constraintName="pk_calc_treatment_types_tl"
                schemaName="apps"
                tableName="calc_treatment_types_tl"/>
    </changeSet>

    <changeSet id="calc-rus-81" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating foreign constraint: calc_treatment_types_tl to calc_treatment_types</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_treatment_types_tl"
                baseColumnNames="code"
                constraintName="fk_calc_treatment_types_tl_1"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="CASCADE"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="calc_treatment_types"
                referencedColumnNames="code"
        />
    </changeSet>

    <changeSet id="calc-rus-82" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>insert into calc_treatment_types</comment>
        <insert schemaName="apps" tableName="calc_treatment_types">
            <column name="code" type="varchar2" value="INFO"/>
        </insert>

        <insert schemaName="apps" tableName="calc_treatment_types">
            <column name="code" type="varchar2" value="IN"/>
        </insert>

        <insert schemaName="apps" tableName="calc_treatment_types">
            <column name="code" type="varchar2" value="OUT"/>
        </insert>

        <insert schemaName="apps" tableName="calc_treatment_types">
            <column name="code" type="varchar2" value="EMPTY"/>
        </insert>
        <rollback/>
    </changeSet>

    <changeSet id="calc-rus-83" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>insert into calc_treatment_types_tl</comment>
        <insert schemaName="apps" tableName="calc_treatment_types_tl">
            <column name="code" type="varchar2" value="INFO"/>
            <column name="lang" type="varchar2" value="RU"/>
            <column name="name" type="varchar2" value="информационная"/>
        </insert>

        <insert schemaName="apps" tableName="calc_treatment_types_tl">
            <column name="code" type="varchar2" value="INFO"/>
            <column name="lang" type="varchar2" value="KZ"/>
            <column name="name" type="varchar2" value="информационная"/>
        </insert>

        <insert schemaName="apps" tableName="calc_treatment_types_tl">
            <column name="code" type="varchar2" value="IN"/>
            <column name="lang" type="varchar2" value="RU"/>
            <column name="name" type="varchar2" value="входная"/>
        </insert>

        <insert schemaName="apps" tableName="calc_treatment_types_tl">
            <column name="code" type="varchar2" value="IN"/>
            <column name="lang" type="varchar2" value="KZ"/>
            <column name="name" type="varchar2" value="входная"/>
        </insert>

        <insert schemaName="apps" tableName="calc_treatment_types_tl">
            <column name="code" type="varchar2" value="OUT"/>
            <column name="lang" type="varchar2" value="RU"/>
            <column name="name" type="varchar2" value="выходная"/>
        </insert>

        <insert schemaName="apps" tableName="calc_treatment_types_tl">
            <column name="code" type="varchar2" value="OUT"/>
            <column name="lang" type="varchar2" value="KZ"/>
            <column name="name" type="varchar2" value="выходная"/>
        </insert>

        <insert schemaName="apps" tableName="calc_treatment_types_tl">
            <column name="code" type="varchar2" value="EMPTY"/>
            <column name="lang" type="varchar2" value="RU"/>
            <column name="name" type="varchar2" value="нет действия"/>
        </insert>

        <insert schemaName="apps" tableName="calc_treatment_types_tl">
            <column name="code" type="varchar2" value="EMPTY"/>
            <column name="lang" type="varchar2" value="KZ"/>
            <column name="name" type="varchar2" value="нет действия"/>
        </insert>
    </changeSet>

    <changeSet id="calc-rus-84" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating foreign constraint: calc_doc_asp1_lines to calc_doc_asp1_headers</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_doc_asp1_lines"
                baseColumnNames="header_id"
                constraintName="fk_calc_doc_asp1_lines_1"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="RESTRICT"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="calc_doc_asp1_headers"
                referencedColumnNames="id"
        />
    </changeSet>

    <changeSet id="calc-rus-85" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating foreign constraint: calc_doc_asp1_lines to calc_doc_asp1_headers</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_doc_asp1_lines"
                baseColumnNames="header_id"
                constraintName="fk_calc_doc_asp1_lines_2"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="RESTRICT"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="calc_doc_asp1_headers"
                referencedColumnNames="id"
        />
    </changeSet>

    <changeSet id="calc-rus-86" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating foreign constraint: calc_doc_asp1_lines to calc_doc_asp1_headers</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_doc_asp1_lines"
                baseColumnNames="header_id"
                constraintName="fk_calc_doc_asp1_lines_3"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="RESTRICT"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="calc_doc_asp1_headers"
                referencedColumnNames="id"
        />
    </changeSet>

    <changeSet id="calc-rus-87" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating foreign constraint: calc_doc_asp1_lines to dict_metering_points</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_doc_asp1_lines"
                baseColumnNames="mp_id"
                constraintName="fk_calc_doc_asp1_lines_4"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="RESTRICT"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="dict_metering_points"
                referencedColumnNames="id"
        />
    </changeSet>

    <changeSet id="calc-rus-88" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating foreign constraint: calc_doc_asp1_lines to dict_metering_points</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_doc_asp1_lines"
                baseColumnNames="mp_id"
                constraintName="fk_calc_doc_asp1_lines_5"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="RESTRICT"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="dict_metering_points"
                referencedColumnNames="id"
        />
    </changeSet>

    <changeSet id="calc-rus-89" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating foreign constraint: calc_doc_asp1_lines to media_parameters</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_doc_asp1_lines"
                baseColumnNames="param_id"
                constraintName="fk_calc_doc_asp1_lines_6"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="RESTRICT"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="media_parameters"
                referencedColumnNames="id"
        />
    </changeSet>

    <changeSet id="calc-rus-90" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating foreign constraint: calc_doc_asp1_lines to mdfem_eem_base</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_doc_asp1_lines"
                baseColumnNames="meter_id"
                constraintName="fk_calc_doc_asp1_lines_7"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="RESTRICT"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="mdfem_eem_base"
                referencedColumnNames="id"
        />
    </changeSet>

    <changeSet id="calc-rus-91" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating foreign constraint: calc_doc_asp1_lines to calc_treatment_types</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_doc_asp1_lines"
                baseColumnNames="treatment_type_code"
                constraintName="fk_calc_doc_asp1_lines_8"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="RESTRICT"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="mdfem_eem_base"
                referencedColumnNames="id"
        />
    </changeSet>

    <changeSet id="calc-rus-92" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating table: calc_doc_notes</comment>
        <createTable tableName="calc_doc_notes" schemaName="apps" remarks="Примечания к документу и строки документа">
            <column name="id" type="number" remarks="Идентификатор примечания ">
                <constraints nullable="false"/>
            </column>

            <column name="header_id" type="number" remarks="Идентификатор заголовка документа">
                <constraints nullable="false"/>
            </column>

            <column name="note_num" type="number" remarks="Номер примечания">
                <constraints nullable="false"/>
            </column>

            <column name="line_num" type="number" remarks="Номер строки документа">
                <constraints nullable="true"/>
            </column>

            <column name="create_by" type="number" remarks="Автор">
                <constraints nullable="false"/>
            </column>

            <column name="create_date" type="TIMESTAMP" remarks="Дата создания">
                <constraints nullable="false"/>
            </column>

            <column name="last_update_by" type="number" remarks="Автор обновления">
                <constraints nullable="false"/>
            </column>

            <column name="last_update_date" type="TIMESTAMP" remarks="Дата обновления">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="calc-rus-93" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating primary key for table: calc_doc_notes</comment>
        <addPrimaryKey
                columnNames="id"
                constraintName="pk_calc_doc_notes"
                schemaName="apps"
                tableName="calc_doc_notes"/>
    </changeSet>

    <changeSet id="calc-rus-94" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating sequence for table: calc_doc_notes</comment>
        <createSequence
                incrementBy="1"
                schemaName="apps"
                sequenceName="calc_doc_notes_s"
                startValue="1"/>
    </changeSet>


    <changeSet id="calc-rus-95" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating table: calc_doc_notes_tl</comment>
        <createTable tableName="calc_doc_notes_tl" schemaName="apps" remarks="Перевод Примечания к документу и строки документа">
            <column name="id" type="number" remarks="Идентификатор">
                <constraints nullable="false"/>
            </column>

            <column name="lang" type="varchar2(10)" remarks="Язык">
                <constraints nullable="false"/>
            </column>

            <column name="doc_notes_id" type="number" remarks="Ссылка на родительскую запись">
                <constraints nullable="false"/>
            </column>

            <column name="note_text" type="clob" remarks="Текст примечания">
                <constraints nullable="false"/>
            </column>

            <column name="create_date" type="TIMESTAMP" remarks="Дата создания">
                <constraints nullable="true"/>
            </column>

            <column name="last_update_date" type="TIMESTAMP" remarks="Дата обновления">
                <constraints nullable="true"/>
            </column>

            <column name="create_by" type="number" remarks="Автор">
                <constraints nullable="true"/>
            </column>

            <column name="last_update_by" type="number" remarks="Автор обновления">
                <constraints nullable="true"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="calc-rus-96" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating primary key for table: calc_doc_notes_tl</comment>
        <addPrimaryKey
                columnNames="id"
                constraintName="pk_calc_doc_notes_tl"
                schemaName="apps"
                tableName="calc_doc_notes_tl"/>
    </changeSet>

    <changeSet id="calc-rus-97" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating sequence for table: calc_doc_notes_tl</comment>
        <createSequence
                incrementBy="1"
                schemaName="apps"
                sequenceName="calc_doc_notes_tl_s"
                startValue="1"/>
    </changeSet>

    <changeSet id="calc-rus-98" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating unique key for table: calc_doc_notes_tl</comment>
        <addUniqueConstraint
                columnNames="doc_notes_id,lang"
                constraintName="uk_calc_doc_notes_tl"
                schemaName="apps"
                tableName="calc_doc_notes_tl"/>
    </changeSet>

    <changeSet id="calc-rus-99" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating foreign constraint: calc_doc_notes_tl to calc_doc_notes</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_doc_notes_tl"
                baseColumnNames="asp1_header_id"
                constraintName="fk_calc_doc_notes_tl_1"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="CASCADE"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="calc_doc_notes"
                referencedColumnNames="id"
        />
    </changeSet>

    <changeSet id="calc-rus-100" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating foreign constraint: calc_doc_notes to calc_doc_asp1_headers</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_doc_notes"
                baseColumnNames="asp1_header_id"
                constraintName="fk_calc_doc_notes_1"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="RESTRICT"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="calc_doc_asp1_headers"
                referencedColumnNames="id"
        />
    </changeSet>

    <changeSet id="calc-rus-101" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating table: calc_doc_messages</comment>
        <createTable tableName="calc_doc_messages" schemaName="apps" remarks="Список ошибок при составлении документа">
            <column name="id" type="number" remarks="Идентификатор примечания ">
                <constraints nullable="false"/>
            </column>

            <column name="header_id" type="number" remarks="Идентификатор ошибка">
                <constraints nullable="false"/>
            </column>

            <column name="line_num" type="number" remarks="Номер строки документа">
                <constraints nullable="true"/>
            </column>

            <column name="message_type_code" type="varchar2(10)" remarks="Тип ошибки">
                <constraints nullable="true"/>
            </column>

            <column name="error_code" type="varchar2(10)" remarks="Код ошибки">
                <constraints nullable="true"/>
            </column>

            <column name="create_by" type="number" remarks="Автор">
                <constraints nullable="false"/>
            </column>

            <column name="create_date" type="TIMESTAMP" remarks="Дата создания">
                <constraints nullable="false"/>
            </column>

            <column name="last_update_by" type="number" remarks="Автор обновления">
                <constraints nullable="false"/>
            </column>

            <column name="last_update_date" type="TIMESTAMP" remarks="Дата обновления">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="calc-rus-102" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating primary key for table: calc_doc_messages</comment>
        <addPrimaryKey
                columnNames="id"
                constraintName="pk_calc_doc_messages"
                schemaName="apps"
                tableName="calc_doc_messages"/>
    </changeSet>

    <changeSet id="calc-rus-103" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating sequence for table: calc_doc_messages</comment>
        <createSequence
                incrementBy="1"
                schemaName="apps"
                sequenceName="calc_doc_messages_s"
                startValue="1"/>
    </changeSet>


    <changeSet id="calc-rus-104" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating table: calc_doc_messages_tl</comment>
        <createTable tableName="calc_doc_messages_tl" schemaName="apps" remarks="Перевод Список ошибок при составлении документа">
            <column name="id" type="number" remarks="Идентификатор">
                <constraints nullable="false"/>
            </column>

            <column name="lang" type="varchar2(10)" remarks="Язык">
                <constraints nullable="false"/>
            </column>

            <column name="messages_id" type="number" remarks="Ссылка на родительскую запись">
                <constraints nullable="false"/>
            </column>

            <column name="msg_text" type="varchar2(500)" remarks="Текст ошибки">
                <constraints nullable="false"/>
            </column>

            <column name="create_date" type="TIMESTAMP" remarks="Дата создания">
                <constraints nullable="true"/>
            </column>

            <column name="last_update_date" type="TIMESTAMP" remarks="Дата обновления">
                <constraints nullable="true"/>
            </column>

            <column name="create_by" type="number" remarks="Автор">
                <constraints nullable="true"/>
            </column>

            <column name="last_update_by" type="number" remarks="Автор обновления">
                <constraints nullable="true"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="calc-rus-105" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating primary key for table: calc_doc_messages_tl</comment>
        <addPrimaryKey
                columnNames="id"
                constraintName="pk_calc_doc_messages_tl"
                schemaName="apps"
                tableName="calc_doc_messages_tl"/>
    </changeSet>

    <changeSet id="calc-rus-106" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating sequence for table: calc_doc_messages_tl</comment>
        <createSequence
                incrementBy="1"
                schemaName="apps"
                sequenceName="calc_doc_messages_tl_s"
                startValue="1"/>
    </changeSet>

    <changeSet id="calc-rus-107" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating unique key for table: calc_doc_messages_tl</comment>
        <addUniqueConstraint
                columnNames="messages_id,lang"
                constraintName="uk_calc_doc_messages_tl"
                schemaName="apps"
                tableName="calc_doc_messages_tl"/>
    </changeSet>

    <changeSet id="calc-rus-108" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating foreign constraint: calc_doc_messages_tl to calc_doc_messages</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_doc_messages_tl"
                baseColumnNames="messages_id"
                constraintName="fk_calc_doc_messages_tl_1"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="CASCADE"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="calc_doc_messages"
                referencedColumnNames="id"
        />
    </changeSet>

    <changeSet id="calc-rus-109" logicalFilePath="path-independent" author="ruslan" context="dev">
        <comment>Creating foreign constraint: calc_doc_messages to calc_doc_asp1_headers</comment>
        <addForeignKeyConstraint
                baseTableSchemaName="apps"
                baseTableName="calc_doc_messages"
                baseColumnNames="asp1_header_id"
                constraintName="fk_calc_doc_messages_1"
                deferrable="true"
                initiallyDeferred="true"
                onDelete="RESTRICT"
                onUpdate="RESTRICT"
                referencedTableSchemaName="apps"
                referencedTableName="calc_doc_asp1_headers"
                referencedColumnNames="id"
        />
    </changeSet>
</databaseChangeLog>
